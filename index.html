<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-box id="myBox" position="0 0 -5" color="red"></a-box>
    </a-scene>

    <script>
      // Get reference to the box entity
      var box = document.querySelector('#myBox');

      // Store initial device orientation
      var initialOrientation = null;
      window.addEventListener('deviceorientation', function(event) {
        if (initialOrientation === null) {
          initialOrientation = {
            alpha: event.alpha,
            beta: event.beta,
            gamma: event.gamma
          };
        }
      });

      // Function to update box scale based on distance
      function updateBoxScale(distance) {
        var scale = 1 + (distance / 10); // You can adjust the scaling factor as needed
        box.setAttribute('scale', {x: scale, y: scale, z: scale});
      }

      // Function to handle device orientation change
      function handleDeviceOrientationChange(event) {
        if (initialOrientation !== null) {
          // Calculate change in orientation angles
          var deltaGamma = event.gamma - initialOrientation.gamma;

          // Estimate movement direction along z-axis based on gamma angle
          var movementDirection = Math.sin(deltaGamma * (Math.PI / 180));

          // Get box position along z-axis
          var boxPosition = box.object3D.position.z;

          // Estimate distance from box based on movement direction
          var distance = movementDirection * 0.1; // You can adjust the distance factor as needed

          // Update box scale based on distance
          updateBoxScale(distance);

          // Reset initial orientation for next iteration
          initialOrientation.gamma = event.gamma;
        }
      }

      // Add deviceorientation event listener
      window.addEventListener('deviceorientation', handleDeviceOrientationChange);
    </script>
  </body>
</html>
