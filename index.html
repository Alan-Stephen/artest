<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-box id="myBox" position="0 0 -5" color="red"></a-box>
    </a-scene>

    <script>
      // Get reference to the box entity
      var box = document.querySelector('#myBox');

      // Initialize compass data
      var compassHeading = 0;

      // Add deviceorientation event listener
      window.addEventListener('deviceorientation', function(event) {
        // Get compass heading (in degrees)
        compassHeading = event.alpha;
      });

      // Add devicemotion event listener
      window.addEventListener('devicemotion', function(event) {
        // Get acceleration values
        var accelerationX = event.acceleration.x;
        var accelerationY = event.acceleration.y;
        var accelerationZ = event.acceleration.z;

        // Calculate distance from acceleration values
        var distance = Math.sqrt(accelerationX**2 + accelerationY**2 + accelerationZ**2);

        // Set scale of the box based on distance
        var scale = 1 + (distance / 10); // You can adjust the scaling factor as needed
        box.setAttribute('scale', {x: scale, y: scale, z: scale});

        // Update rotation of the box based on compass heading
        box.setAttribute('rotation', {x: 0, y: compassHeading, z: 0});
      });
    </script>
  </body>
</html>
